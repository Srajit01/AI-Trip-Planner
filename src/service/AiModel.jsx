import {GoogleGenerativeAI} from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
    systemInstruction: "Generate Travel Plan for Location: Mumbai, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, ratings,Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Mumbai\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\",\n    \"hotelOptions\": [\n      {\n        \"hotelName\": \"Hotel Transit\",\n        \"hotelAddress\": \"Opposite, Mumbai Central Railway Station, Mumbai, Maharashtra 400008\",\n        \"price\": \"₹1500 - ₹2000 per night\",\n        \"hotelImageUrl\": \"https://example.com/hotel_transit.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 18.9698,\n          \"longitude\": 72.8316\n        },\n        \"rating\": 3.5,\n         \"description\": \"A budget-friendly hotel near the Mumbai Central railway station, offering basic amenities.\"\n\n      },\n      {\n        \"hotelName\": \"Treebo Trend Amber\",\n        \"hotelAddress\": \"Plot No 106/107, Near, Sion Hospital, Dr. Babasaheb Ambedkar Road, Sion, Mumbai, Maharashtra 400022\",\n        \"price\": \"₹1800 - ₹2500 per night\",\n         \"hotelImageUrl\": \"https://example.com/treebo_trend_amber.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 19.0405,\n          \"longitude\": 72.8502\n        },\n        \"rating\": 3.8,\n        \"description\": \"A good budget option with clean rooms and decent service in the Sion area.\"\n      },\n      {\n         \"hotelName\": \"Hotel Suba Galaxy\",\n        \"hotelAddress\":\" Nityanand Nagar, Ghatkopar West, Mumbai, Maharashtra 400086\",\n        \"price\": \"₹2000 - ₹2800 per night\",\n        \"hotelImageUrl\": \"https://example.com/hotel_suba_galaxy.jpg\",\n         \"geoCoordinates\": {\n          \"latitude\": 19.0992,\n          \"longitude\": 72.9108\n        },\n         \"rating\": 4.0,\n        \"description\":\"Located in Ghatkopar, offers good value with comfortable rooms and basic amenities. \"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"dayTheme\": \"Colonial History and Marine Drive\",\n        \"bestTimeToVisit\": \"Morning and Evening\",\n        \"places\": [\n          {\n            \"placeName\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\",\n            \"placeDetails\": \"A historic railway station, a UNESCO World Heritage site, showcasing Victorian Gothic architecture.\",\n             \"placeImageUrl\": \"https://example.com/cst.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9402,\n              \"longitude\": 72.8339\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n            \"timeToTravel\": \"Hotel to CST 30-45 mins\"\n          },\n            {\n            \"placeName\": \"Gateway of India\",\n            \"placeDetails\": \"An iconic arch monument overlooking the Arabian Sea, built during the British Raj.\",\n            \"placeImageUrl\": \"https://example.com/gateway_of_india.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9220,\n              \"longitude\": 72.8347\n            },\n             \"ticketPricing\": \"Free\",\n            \"rating\": 4.6,\n            \"timeToTravel\": \"CST to Gateway 20-30 mins\"\n          },\n            {\n            \"placeName\": \"Marine Drive\",\n            \"placeDetails\": \"A 3.6 km long promenade along the coast, known as the 'Queen's Necklace' at night.\",\n            \"placeImageUrl\": \"https://example.com/marine_drive.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9523,\n              \"longitude\": 72.8231\n            },\n             \"ticketPricing\":\"Free\",\n             \"rating\": 4.7,\n             \"timeToTravel\": \"Gateway to Marine Drive 15-20 mins\"\n            }\n        ]\n      },\n      \"day2\": {\n        \"dayTheme\": \"Caves and Local Culture\",\n        \"bestTimeToVisit\": \"Morning to Afternoon\",\n        \"places\": [\n          {\n            \"placeName\": \"Elephanta Caves\",\n            \"placeDetails\": \"Ancient rock-cut caves on Elephanta Island, featuring Hindu and Buddhist sculptures.\",\n            \"placeImageUrl\": \"https://example.com/elephanta_caves.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9656,\n              \"longitude\": 72.9325\n            },\n             \"ticketPricing\": \"₹40 per person (ferry cost extra)\",\n             \"rating\": 4.4,\n             \"timeToTravel\": \"Hotel to Gateway, ferry to Elephanta 2-3 hrs\"\n          },\n           {\n            \"placeName\": \"Dharavi Slum\",\n             \"placeDetails\": \"Experience the vibrant small scale industries and community life within Dharavi with a walking tour. \",\n            \"placeImageUrl\": \"https://example.com/dharavi.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 19.0479,\n              \"longitude\": 72.8433\n             },\n              \"ticketPricing\": \"Tour costs approx ₹500-₹800 per person\",\n              \"rating\": 4.2,\n              \"timeToTravel\": \"Elephanta return to Gateway, Gateway to Dharavi 1.5-2 hrs\"\n            }\n        ]\n      },\n       \"day3\": {\n        \"dayTheme\": \"Beaches and Relaxation\",\n         \"bestTimeToVisit\": \"Late Afternoon to Sunset\",\n         \"places\": [\n           {\n            \"placeName\": \"Juhu Beach\",\n            \"placeDetails\": \"A popular beach known for its street food, sunset views, and celebrity sightings.\",\n            \"placeImageUrl\": \"https://example.com/juhu_beach.jpg\",\n             \"geoCoordinates\": {\n              \"latitude\": 19.1087,\n              \"longitude\": 72.8280\n             },\n              \"ticketPricing\":\"Free\",\n              \"rating\": 4.0,\n              \"timeToTravel\": \"Hotel to Juhu 1-1.5 hrs\"\n             },\n              {\n            \"placeName\":\"Shree Siddhivinayak Temple\",\n              \"placeDetails\": \"One of the most visited Hindu temple in Mumbai, dedicated to Lord Ganesha\",\n              \"placeImageUrl\":\"https://example.com/siddhivinayak.jpg\",\n               \"geoCoordinates\":{\n                  \"latitude\": 19.0207,\n                  \"longitude\": 72.8416\n               },\n              \"ticketPricing\":\"Free\",\n              \"rating\": 4.5,\n              \"timeToTravel\":\"Juhu to Siddhivinayak 45-60 min\"\n\n             }\n\n        ]\n      }\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });